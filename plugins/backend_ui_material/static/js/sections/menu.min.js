/*!
 * Remark (http://getbootstrapadmin.com/remark)
 * Copyright 2015 amazingsurge
 * Licensed under the Themeforest Standard Licenses
 */
(function(b,a,c){c.site.menu={speed:250,accordion:true,init:function(){this.$instance=c(".site-menu");if(this.$instance.length===0){return}this.bind()},bind:function(){var d=this;this.$instance.on("mouseenter.site.menu",".site-menu-item",function(){var e=c(this);if(c.site.menubar.folded===true&&e.is(".has-sub")&&e.parent(".site-menu").length>0){var f=e.children(".site-menu-sub");d.position(e,f)}e.addClass("hover")}).on("mouseleave.site.menu",".site-menu-item",function(){var e=c(this);if(c.site.menubar.folded===true&&e.is(".has-sub")&&e.parent(".site-menu").length>0){e.children(".site-menu-sub").css("max-height","")}e.removeClass("hover")}).on("deactive.site.menu",".site-menu-item.active",function(g){var f=c(this);f.removeClass("active");g.stopPropagation()}).on("active.site.menu",".site-menu-item",function(g){var f=c(this);f.addClass("active");g.stopPropagation()}).on("open.site.menu",".site-menu-item",function(g){var f=c(this);d.expand(f,function(){f.addClass("open")});if(d.accordion){f.siblings(".open").trigger("close.site.menu")}g.stopPropagation()}).on("close.site.menu",".site-menu-item.open",function(g){var f=c(this);d.collapse(f,function(){f.removeClass("open")});g.stopPropagation()}).on("click.site.menu ",".site-menu-item",function(f){if(c(this).is(".has-sub")&&c(f.target).closest(".site-menu-item").is(this)){if(c(this).is(".open")){c(this).trigger("close.site.menu")}else{c(this).trigger("open.site.menu")}}else{if(!c(this).is(".active")){c(this).siblings(".active").trigger("deactive.site.menu");c(this).trigger("active.site.menu")}}f.stopPropagation()}).on("tap.site.menu","> .site-menu-item > a",function(){var e=c(this).attr("href");if(e){b.location=e}}).on("touchend.site.menu","> .site-menu-item > a",function(g){var f=c(this).parent(".site-menu-item");if(c.site.menubar.folded===true){if(f.is(".has-sub")&&f.parent(".site-menu").length>0){f.siblings(".hover").removeClass("hover");if(f.is(".hover")){f.removeClass("hover")}else{f.addClass("hover")}}}}).on("scroll.site.menu",".site-menu-sub",function(f){f.stopPropagation()})},collapse:function(e,g){var d=this;var f=e.children(".site-menu-sub");f.show().slideUp(this.speed,function(){c(this).css("display","");c(this).find("> .site-menu-item").removeClass("is-shown");if(g){g()}d.$instance.trigger("collapsed.site.menu")})},expand:function(f,h){var e=this;var g=f.children(".site-menu-sub");var d=g.children(".site-menu-item").addClass("is-hidden");g.hide().slideDown(this.speed,function(){c(this).css("display","");if(h){h()}e.$instance.trigger("expanded.site.menu")});setTimeout(function(){d.addClass("is-shown");d.removeClass("is-hidden")},0)},refresh:function(){this.$instance.find(".open").filter(":not(.active)").removeClass("open")},position:function(e,h){var g=e.position().top,f=h.outerHeight(),d=c.site.menubar.$instance.outerHeight(),i=e.find("> a").outerHeight();h.removeClass("site-menu-sub-up").css("max-height","");if(g>d/2){h.addClass("site-menu-sub-up");if(c.site.menubar.foldAlt){g=g-i}h.css("max-height",g+i)}else{if(c.site.menubar.foldAlt){g=g+i}h.removeClass("site-menu-sub-up");h.css("max-height",d-g)}}}})(window,document,jQuery);