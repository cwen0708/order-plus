/*! breakpoints.js - v0.4.2 - 2015-04-22
 * https://github.com/amazingSurge/breakpoints.js
 * Copyright (c) 2015 amazingSurge; Licensed GPL */
(function(i,f,b){var h=f.Breakpoints=function(){h.define.apply(h,arguments)};function l(s,r){var q;for(var p in s){q=r(p,s[p]);if(q===false){break}}}function a(p){return typeof p=="function"||false}function g(r,q){for(var p in q){r[p]=q[p]}return r}h.defaults={xs:{min:0,max:767},sm:{min:768,max:991},md:{min:992,max:1199},lg:{min:1200,max:Infinity}};var m=h.mediaBuilder={min:function(p,q){return"(min-width: "+p+q+")"},max:function(p,q){return"(max-width: "+p+q+")"},between:function(q,p,r){return"(min-width: "+q+r+") and (max-width: "+p+r+")"},get:function(q,p,r){if(!r){r="px"}if(q===0){return this.max(p,r)}if(p===Infinity){return this.min(q,r)}return this.between(q,p,r)}};var k=function(){var p=[];return{length:0,add:function(r,s,q){p.push({fn:r,data:s||{},one:q||0});this.length++},remove:function(r){for(var q=0;q<p.length;q++){if(p[q].fn===r){p.splice(q,1);this.length--;q--}}},empty:function(){p=[];this.length=0},call:function(q,r,s){if(!r){r=this.length-1}var t=p[r];if(a(s)){s.call(this,q,t,r)}else{if(a(t.fn)){t.fn.call(q||f,t.data)}}if(t.one){delete p[r];this.length--}},fire:function(q,s){for(var r in p){this.call(q,r,s)}}}};var o={current:null,callbacks:new k(),trigger:function(p){var q=this.current;this.current=p;this.callbacks.fire(p,function(r,s){if(a(s.fn)){s.fn.call({current:p,previous:q},s.data)}})},one:function(q,p){return this.on(q,p,1)},on:function(r,q,p){if(q==null&&a(r)){q=r;r=b}if(!a(q)){return this}this.callbacks.add(q,r,p)},off:function(p){if(p==null){this.callbacks.empty()}}};var d=h.mediaQuery=function(p,q){this.name=p;this.media=q;this.initialize.apply(this)};d.prototype={constructor:d,initialize:function(){this.callbacks={enter:new k(),leave:new k()};this.mql=(f.matchMedia&&f.matchMedia(this.media))||{matches:false,media:this.media,addListener:function(){},removeListener:function(){}};var p=this;this.mqlListener=function(q){var r=(q.matches&&"enter")||"leave";p.callbacks[r].fire(p)};this.mql.addListener(this.mqlListener)},on:function(q,t,s,p){var r;if(typeof q==="object"){for(r in q){this.on(r,t,q[r],p)}return this}if(s==null&&a(t)){s=t;t=b}if(!a(s)){return this}if(q in this.callbacks){this.callbacks[q].add(s,t,p);if(this.isMatched()&&q==="enter"){this.callbacks[q].call(this)}}return this},one:function(p,r,q){return this.on(p,r,q,1)},off:function(p,r){var q;if(typeof p==="object"){for(q in p){this.off(q,p[q])}return this}if(p==null){this.callbacks.enter.empty();this.callbacks.leave.empty()}if(p in this.callbacks){if(r){this.callbacks[p].remove(r)}else{this.callbacks[p].empty()}}return this},isMatched:function(){return this.mql.matches},destory:function(){this.off()}};var c=function(r,s,p,t){this.name=r;this.min=s?s:0;this.max=p?p:Infinity;this.media=m.get(this.min,this.max,t);this.initialize.apply(this);var q=this;this.changeListener=function(){if(q.isMatched()){o.trigger(q)}};if(this.isMatched()){o.current=this}this.mql.addListener(this.changeListener)};c.prototype=d.prototype;c.prototype.constructor=c;g(c.prototype,{destory:function(){this.off();this.mql.removeListener(this.changeHander)}});var j=function(r){this.name=r;this.sizes=[];var p=this;var q=[];l(r.split(" "),function(u,s){var t=h.get(s);if(t){p.sizes.push(t);q.push(t.media)}});this.media=q.join(",");this.initialize.apply(this)};j.prototype=d.prototype;j.prototype.constructor=j;var n={};var e={};h=g(h,{defined:false,define:function(p,q){if(this.defined){this.destory()}if(!p){p=h.defaults}this.options=g(q||{},{unit:"px"});for(var r in p){this.set(r,p[r].min,p[r].max,this.options.unit)}this.defined=true},destory:function(){l(n,function(p,q){q.destory()});n={};o.current=null},is:function(q){var p=this.get(q);if(!p){return null}return p.isMatched()},all:function(){var p=[];l(n,function(q){p.push(q)});return p},set:function(q,s,p,t){var r=this.get(q);if(r){r.destory()}n[q]=new c(q,s||null,p||null,t||null);return n[q]},get:function(p){if(n.hasOwnProperty(p)){return n[p]}return null},getUnion:function(p){if(e.hasOwnProperty(p)){return e[p]}e[p]=new j(p);return e[p]},getMin:function(p){var q=this.get(p);if(q){return q.min}return null},getMax:function(p){var q=this.get(p);if(q){return q.max}return null},current:function(){return o.current},getMedia:function(p){var q=this.get(p);if(q){return q.media}return null},on:function(t,r,u,s,q){if(t==="change"){s=u;u=r;return o.on(u,s,q)}if(t.indexOf(" ")){var v=this.getUnion(t);if(v){v.on(r,u,s,q)}}else{var p=this.get(t);if(p){p.on(r,u,s,q)}}return this},one:function(r,p,s,q){return this.on(r,p,s,q,1)},off:function(s,q,r){if(s==="change"){return o.off(q)}if(s.indexOf(" ")){var t=this.getUnion(s);if(t){t.off(q,r)}}else{var p=this.get(s);if(p){p.off(q,r)}}return this}})})(document,window);