<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>網站管理後台</title>
    <link rel="stylesheet" type="text/css" href="https://storage.googleapis.com/code.getmdl.io/1.0.2/material.light_blue-red.min.css" />
    <link rel="stylesheet" type="text/css" href="/plugins/backend_ui_saimiri/static/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="/plugins/backend_ui_saimiri/static/w2ui/w2ui-1.4.2.min.css">
    <link rel="stylesheet" type="text/css" href="/plugins/backend_ui_saimiri/static/TinyMCE/4.2.5/skins/lightgray/content.min.css">
    <link rel="stylesheet" type="text/css" href="/plugins/backend_ui_saimiri/static/css/console_gn.css?r={{ framework.app_version }}" />
    <script type="text/javascript" src="/plugins/backend_ui_saimiri/static/js/jquery-2.1.0.min.js"></script>
<style type="text/css">
    body, dd, dl, dt, fieldset, form, h1, h2, h3, h4, h5, h6, li, ol, p, ul {
        margin: 0;
        border: 0 none #FFFFFF;
        padding: 0;
    }

    input[type=text], input[type=password], textarea {
        border: solid 1px #ccc;
        border-radius: 4px;
        -moz-border-radius: 4px;
        -webkit-border-radius: 4px;
        padding: 5px;
        width: 250px;
    }

    #messagebox {
        position: fixed;
        color: #000;
        background-color: #fc0;
        margin: 0 auto;
        text-align: center;
        font-weight: 900;
        padding: 3px 25px;
        border-radius: 10px;
        -moz-border-radius: 10px;
        -webkit-border-radius: 10px;
        left: 42%;
        top: 8px;
        display: none;
    }

    input[type=text]:focus, input[type=password]:focus, textarea:focus {
        transition: border linear .2s, box-shadow linear .5s;
        -moz-transition: border linear .2s, -moz-box-shadow linear .5s;
        -webkit-transition: border linear .2s, -webkit-box-shadow linear .5s;
        outline: none;
        border-color: rgba(171, 196, 232, .75);
        box-shadow: 0 0 8px rgba(171, 196, 242, .5);
        -moz-box-shadow: 0 0 8px rgba(171, 196, 242, .5);
        -webkit-box-shadow: 0 0 8px rgba(171, 196, 242, 3);
    }

    html {
        height: 100%;
    }

    body {
        height: 100%;
        min-height: 25em;
        padding: 0;
        background-color: #D8DCE0;
        color: #000000;
        line-height: 1.4;
        font-family: Helvetica, Arial, sans-serif;
        font-size: 80%;
        text-align: center;
        background-image: url('/plugins/backend_ui_saimiri/static/img/background.jpg');
        background-position: 50%;
        background-size: cover;
    }

    a {
        color: #003ea8;
        text-decoration: underline;
    }

    a:visited {
        color: #7159af;
    }

    a:hover {
        text-decoration: none;
    }

    img {
        border: 0 none transparent;
    }

    input, select, table, textarea {
        font-size: 100%;
        font-family: Arial, Helvetica, sans-serif;
    }

    #page {
        min-height: 100%;
    }

    * html #page {
        height: 100%;
    }


    h1 {
        padding: 8px 16px 8px 12px;
        border-bottom: 1px solid #313131;
        border-color: rgba(255, 255, 255, 0.4);
        background: rgba(66, 66, 66, 0.7);
        margin: -1px ;
        font-size: 100%;
        color: #ffffff;
        font-weight: normal;
        text-align: left;
    }

    #content {
        padding: 0 25px 18px 25px;
        background: rgba(255, 255, 255, 0.8);
        height: 250px;
    }


.row_btn_en{
    background: #224888;
    height: 30px;
    margin: 0 1px 0 0;
    line-height: 27px;
    color: #fff;
    border: 0;
    display: inline-block;
    border-radius: 5px;
}
.row_btn_en:hover{
    color: #fff;
    background: #005bbb;
}

    td {
        text-align: center;
    }
    #pageInner {
        background: #fff;
        content: "";
        position: fixed;
        top: 160px;
        height: 300px;
        left: 50%;
        z-index: 0;
        width: 420px;
        margin-left: -210px;
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.4);
        }
</style>
<script type="text/javascript">
    var c = null;
    $(function () {
        $("#logubut").click(function () {
            send_login();
        });
        $("body").on("keydown", function (event) {
            if (event.keyCode == 13) {
                send_login();
            }
        });
        $(document).keydown(function (event) {
            if (event.keyCode == 13) {
                send_login();
            }
        });
        $("#name").keydown(function (event) {
            if (event.keyCode == 13) {
                send_login();
            }
        });
        $("#password").keydown(function (event) {
            if (event.keyCode == 13) {
                send_login();
            }
        });
    });

    function send_login() {
        show_message("正在進行登入中...");
        var d = $("form").serialize();
        if (c == null){
            c = d;
            json("/admin/login.json", d, json_message);
        }
    }


    // 用 json 取得頁面
    function json(url, data, callback) {
        try {
            $.ajax({
                url: url,
                type: "POST",
                dataType: 'json',
                data: data,
                async: true,
                success: function (data) {
                    c = null;
                    callback(data);
                },
                error: function (xhr, ajaxOptions, thrownError) {
                    c = null;
                    show_message(thrownError.message);
                }
            });
        } catch (e) {
            //
        }
    }

    // 顯示 json 回應的訊息
    function json_message(data) {
            if (data.is_login == "true"){
                show_message("登入成功，請稍候...");
                setTimeout(function(){
                    location.href = "/admin";
                }, 2000);
            }else{
                show_message("登入失敗，帳號密碼有誤...");
            }
    }

    // 顯示訊息
    function show_message(text) {
        $("#messagebox").html(text).slideDown();
        setTimeout('hide_message()', 3100);
    }

    // 隱藏訊息
    function hide_message() {
        $("#messagebox").slideUp();
    }
</script>

</head>
<body>
<div id="messagebox"></div>
<div id="page">
    <div id="pageInner">
        <div><h1>登入</h1>
            <div id="content">
                <br/>
                <br/>
                <br/>
                <form>
                    <table>
                        <tr>
                            <td>管理帳號 :</td>
                            <td><input name="account" id="name" type="text" value=""/></td>
                        </tr>
                        <tr>
                            <td><br/></td>
                            <td><br/></td>
                        </tr>
                        <tr>
                            <td>管理密碼 :</td>
                            <td><input name="password" id="password" type="password" value=""/></td>
                        </tr>
                    </table>
                </form>
                <div class="row_btn_en" style="padding: 0 17px 0 18px;float: right;margin-top: 28px; cursor: pointer;" id="logubut">登入</div>
                <br/>
                <br/>
            </div>
        </div>
    </div>
</div>
</body>
</html>