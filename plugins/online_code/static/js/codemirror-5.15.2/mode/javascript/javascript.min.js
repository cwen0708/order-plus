(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){function b(e,d,c){return/^(?:operator|sof|keyword c|case|new|[\[{}\(,;:]|=>)$/.test(d.lastType)||(d.lastType=="quasi"&&/\{\s*$/.test(e.string.slice(0,e.pos-(c||0))))}a.defineMode("javascript",function(ae,an){var n=ae.indentUnit;var D=an.statementIndent;var aF=an.jsonld;var C=an.json||aF;var h=an.typescript;var ay=an.wordCharacters||/[\w$\xa1-\uffff]/;var aw=function(){function aV(aX){return{type:aX,style:"keyword"}}var aQ=aV("keyword a"),aO=aV("keyword b"),aN=aV("keyword c");var aP=aV("operator"),aT={type:"atom",style:"atom"};var aR={"if":aV("if"),"while":aQ,"with":aQ,"else":aO,"do":aO,"try":aO,"finally":aO,"return":aN,"break":aN,"continue":aN,"new":aV("new"),"delete":aN,"throw":aN,"debugger":aN,"var":aV("var"),"const":aV("var"),let:aV("var"),"function":aV("function"),"catch":aV("catch"),"for":aV("for"),"switch":aV("switch"),"case":aV("case"),"default":aV("default"),"in":aP,"typeof":aP,"instanceof":aP,"true":aT,"false":aT,"null":aT,"undefined":aT,"NaN":aT,"Infinity":aT,"this":aV("this"),"class":aV("class"),"super":aV("atom"),yield:aN,"export":aV("export"),"import":aV("import"),"extends":aN,await:aN,async:aV("async")};if(h){var aW={type:"variable",style:"variable-3"};var aS={"interface":aV("class"),"implements":aN,namespace:aN,module:aV("module"),"enum":aV("module"),"public":aV("modifier"),"private":aV("modifier"),"protected":aV("modifier"),"abstract":aV("modifier"),as:aP,string:aW,number:aW,"boolean":aW,any:aW};for(var aU in aS){aR[aU]=aS[aU]}}return aR}();var T=/[+\-*&%=<>!?|~^]/;var av=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function I(aQ){var aO=false,aN,aP=false;while((aN=aQ.next())!=null){if(!aO){if(aN=="/"&&!aP){return}if(aN=="["){aP=true}else{if(aP&&aN=="]"){aP=false}}}aO=!aO&&aN=="\\"}}var W,J;function P(aP,aO,aN){W=aP;J=aN;return aO}function Y(aR,aP){var aN=aR.next();if(aN=='"'||aN=="'"){aP.tokenize=V(aN);return aP.tokenize(aR,aP)}else{if(aN=="."&&aR.match(/^\d+(?:[eE][+\-]?\d+)?/)){return P("number","number")}else{if(aN=="."&&aR.match("..")){return P("spread","meta")}else{if(/[\[\]{}\(\),;\:\.]/.test(aN)){return P(aN)}else{if(aN=="="&&aR.eat(">")){return P("=>","operator")}else{if(aN=="0"&&aR.eat(/x/i)){aR.eatWhile(/[\da-f]/i);return P("number","number")}else{if(aN=="0"&&aR.eat(/o/i)){aR.eatWhile(/[0-7]/i);return P("number","number")}else{if(aN=="0"&&aR.eat(/b/i)){aR.eatWhile(/[01]/i);return P("number","number")}else{if(/\d/.test(aN)){aR.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return P("number","number")}else{if(aN=="/"){if(aR.eat("*")){aP.tokenize=aE;return aE(aR,aP)}else{if(aR.eat("/")){aR.skipToEnd();return P("comment","comment")}else{if(b(aR,aP,1)){I(aR);aR.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/);return P("regexp","string-2")}else{aR.eatWhile(T);return P("operator","operator",aR.current())}}}}else{if(aN=="`"){aP.tokenize=aG;return aG(aR,aP)}else{if(aN=="#"){aR.skipToEnd();return P("error","error")}else{if(T.test(aN)){aR.eatWhile(T);return P("operator","operator",aR.current())}else{if(ay.test(aN)){aR.eatWhile(ay);var aQ=aR.current(),aO=aw.propertyIsEnumerable(aQ)&&aw[aQ];return(aO&&aP.lastType!=".")?P(aO.type,aO.style,aQ):P("variable","variable",aQ)}}}}}}}}}}}}}}}function V(aN){return function(aR,aP){var aQ=false,aO;if(aF&&aR.peek()=="@"&&aR.match(av)){aP.tokenize=Y;return P("jsonld-keyword","meta")}while((aO=aR.next())!=null){if(aO==aN&&!aQ){break}aQ=!aQ&&aO=="\\"}if(!aQ){aP.tokenize=Y}return P("string","string")}}function aE(aQ,aP){var aN=false,aO;while(aO=aQ.next()){if(aO=="/"&&aN){aP.tokenize=Y;break}aN=(aO=="*")}return P("comment","comment")}function aG(aQ,aO){var aP=false,aN;while((aN=aQ.next())!=null){if(!aP&&(aN=="`"||aN=="$"&&aQ.eat("{"))){aO.tokenize=Y;break}aP=!aP&&aN=="\\"}return P("quasi","string-2",aQ.current())}var o="([{}])";function aB(aT,aQ){if(aQ.fatArrowAt){aQ.fatArrowAt=null}var aP=aT.string.indexOf("=>",aT.start);if(aP<0){return}var aS=0,aO=false;for(var aU=aP-1;aU>=0;--aU){var aN=aT.string.charAt(aU);var aR=o.indexOf(aN);if(aR>=0&&aR<3){if(!aS){++aU;break}if(--aS==0){break}}else{if(aR>=3&&aR<6){++aS}else{if(ay.test(aN)){aO=true}else{if(/["'\/]/.test(aN)){return}else{if(aO&&!aS){++aU;break}}}}}}if(aO&&!aS){aQ.fatArrowAt=aU}}var c={atom:true,number:true,variable:true,string:true,regexp:true,"this":true,"jsonld-keyword":true};function N(aS,aO,aN,aR,aP,aQ){this.indented=aS;this.column=aO;this.type=aN;this.prev=aP;this.info=aQ;if(aR!=null){this.align=aR}}function v(aQ,aP){for(var aO=aQ.localVars;aO;aO=aO.next){if(aO.name==aP){return true}}for(var aN=aQ.context;aN;aN=aN.prev){for(var aO=aN.vars;aO;aO=aO.next){if(aO.name==aP){return true}}}}function g(aR,aO,aN,aQ,aS){var aT=aR.cc;G.state=aR;G.stream=aS;G.marked=null,G.cc=aT;G.style=aO;if(!aR.lexical.hasOwnProperty("align")){aR.lexical.align=true}while(true){var aP=aT.length?aT.pop():C?ar:aL;if(aP(aN,aQ)){while(aT.length&&aT[aT.length-1].lex){aT.pop()()}if(G.marked){return G.marked}if(aN=="variable"&&v(aR,aQ)){return"variable-2"}return aO}}}var G={state:null,column:null,marked:null,cc:null};function af(){for(var aN=arguments.length-1;aN>=0;aN--){G.cc.push(arguments[aN])}}function aj(){af.apply(null,arguments);return true}function aA(aO){function aN(aR){for(var aQ=aR;aQ;aQ=aQ.next){if(aQ.name==aO){return true}}return false}var aP=G.state;G.marked="def";if(aP.context){if(aN(aP.localVars)){return}aP.localVars={name:aO,next:aP.localVars}}else{if(aN(aP.globalVars)){return}if(an.globalVars){aP.globalVars={name:aO,next:aP.globalVars}}}}var t={name:"this",next:{name:"arguments"}};function z(){G.state.context={prev:G.state.context,vars:G.state.localVars};G.state.localVars=t}function A(){G.state.localVars=G.state.context.vars;G.state.context=G.state.context.prev}function aJ(aO,aP){var aN=function(){var aS=G.state,aQ=aS.indented;if(aS.lexical.type=="stat"){aQ=aS.lexical.indented}else{for(var aR=aS.lexical;aR&&aR.type==")"&&aR.align;aR=aR.prev){aQ=aR.indented}}aS.lexical=new N(aQ,G.stream.column(),aO,null,aS.lexical,aP)};aN.lex=true;return aN}function i(){var aN=G.state;if(aN.lexical.prev){if(aN.lexical.type==")"){aN.indented=aN.lexical.indented}aN.lexical=aN.lexical.prev}}i.lex=true;function u(aN){function aO(aP){if(aP==aN){return aj()}else{if(aN==";"){return af()}else{return aj(aO)}}}return aO}function aL(aN,aO){if(aN=="var"){return aj(aJ("vardef",aO.length),e,u(";"),i)}if(aN=="keyword a"){return aj(aJ("form"),ar,aL,i)}if(aN=="keyword b"){return aj(aJ("form"),aL,i)}if(aN=="{"){return aj(aJ("}"),B,i)}if(aN==";"){return aj()}if(aN=="if"){if(G.state.lexical.info=="else"&&G.state.cc[G.state.cc.length-1]==i){G.state.cc.pop()()}return aj(aJ("form"),ar,aL,i,f)}if(aN=="function"){return aj(Q)}if(aN=="for"){return aj(aJ("form"),x,aL,i)}if(aN=="variable"){return aj(aJ("stat"),aM)}if(aN=="switch"){return aj(aJ("form"),ar,aJ("}","switch"),u("{"),B,i,i)}if(aN=="case"){return aj(ar,u(":"))}if(aN=="default"){return aj(u(":"))}if(aN=="catch"){return aj(aJ("form"),z,u("("),ai,u(")"),aL,i,A)}if(aN=="class"){return aj(aJ("form"),aa,i)}if(aN=="export"){return aj(aJ("stat"),aK,i)}if(aN=="import"){return aj(aJ("stat"),ak,i)}if(aN=="module"){return aj(aJ("form"),j,aJ("}"),u("{"),B,i,i)}if(aN=="async"){return aj(aL)}return af(aJ("stat"),ar,u(";"),i)}function ar(aN){return ad(aN,false)}function aI(aN){return ad(aN,true)}function ad(aO,aQ){if(G.state.fatArrowAt==G.stream.start){var aN=aQ?R:ab;if(aO=="("){return aj(z,aJ(")"),ax(j,")"),i,u("=>"),aN,A)}else{if(aO=="variable"){return af(z,j,u("=>"),aN,A)}}}var aP=aQ?l:ag;if(c.hasOwnProperty(aO)){return aj(aP)}if(aO=="function"){return aj(Q,aP)}if(aO=="keyword c"){return aj(aQ?ao:am)}if(aO=="("){return aj(aJ(")"),am,aD,u(")"),i,aP)}if(aO=="operator"||aO=="spread"){return aj(aQ?aI:ar)}if(aO=="["){return aj(aJ("]"),p,i,aP)}if(aO=="{"){return aC(w,"}",null,aP)}if(aO=="quasi"){return af(U,aP)}if(aO=="new"){return aj(L(aQ))}return aj()}function am(aN){if(aN.match(/[;\}\)\],]/)){return af()}return af(ar)}function ao(aN){if(aN.match(/[;\}\)\],]/)){return af()}return af(aI)}function ag(aN,aO){if(aN==","){return aj(ar)}return l(aN,aO,false)}function l(aN,aP,aR){var aO=aR==false?ag:l;var aQ=aR==false?ar:aI;if(aN=="=>"){return aj(z,aR?R:ab,A)}if(aN=="operator"){if(/\+\+|--/.test(aP)){return aj(aO)}if(aP=="?"){return aj(ar,u(":"),aQ)}return aj(aQ)}if(aN=="quasi"){return af(U,aO)}if(aN==";"){return}if(aN=="("){return aC(aI,")","call",aO)}if(aN=="."){return aj(ap,aO)}if(aN=="["){return aj(aJ("]"),am,u("]"),i,aO)}}function U(aN,aO){if(aN!="quasi"){return af()}if(aO.slice(aO.length-2)!="${"){return aj(U)}return aj(ar,s)}function s(aN){if(aN=="}"){G.marked="string-2";G.state.tokenize=aG;return aj(U)}}function ab(aN){aB(G.stream,G.state);return af(aN=="{"?aL:ar)}function R(aN){aB(G.stream,G.state);return af(aN=="{"?aL:aI)}function L(aN){return function(aO){if(aO=="."){return aj(aN?q:Z)}else{return af(aN?aI:ar)}}}function Z(aN,aO){if(aO=="target"){G.marked="keyword";return aj(ag)}}function q(aN,aO){if(aO=="target"){G.marked="keyword";return aj(l)}}function aM(aN){if(aN==":"){return aj(i,aL)}return af(ag,u(";"),i)}function ap(aN){if(aN=="variable"){G.marked="property";return aj()}}function w(aN,aO){if(aN=="variable"||G.style=="keyword"){G.marked="property";if(aO=="get"||aO=="set"){return aj(M)}return aj(O)}else{if(aN=="number"||aN=="string"){G.marked=aF?"property":(G.style+" property");return aj(O)}else{if(aN=="jsonld-keyword"){return aj(O)}else{if(aN=="modifier"){return aj(w)}else{if(aN=="["){return aj(ar,u("]"),O)}else{if(aN=="spread"){return aj(ar)}}}}}}}function M(aN){if(aN!="variable"){return af(O)}G.marked="property";return aj(Q)}function O(aN){if(aN==":"){return aj(aI)}if(aN=="("){return af(Q)}}function ax(aP,aN){function aO(aR,aS){if(aR==","){var aQ=G.state.lexical;if(aQ.info=="call"){aQ.pos=(aQ.pos||0)+1}return aj(aP,aO)}if(aR==aN||aS==aN){return aj()}return aj(u(aN))}return function(aQ,aR){if(aQ==aN||aR==aN){return aj()}return af(aP,aO)}}function aC(aQ,aN,aP){for(var aO=3;aO<arguments.length;aO++){G.cc.push(arguments[aO])}return aj(aJ(aN,aP),ax(aQ,aN),i)}function B(aN){if(aN=="}"){return aj()}return af(aL,B)}function X(aN){if(h&&aN==":"){return aj(k)}}function az(aN,aO){if(aO=="="){return aj(aI)}}function k(aN){if(aN=="variable"){G.marked="variable-3";return aj(K)}}function K(aN,aO){if(aO=="<"){return aj(ax(k,">"),K)}if(aN=="["){return aj(u("]"),K)}}function e(){return af(j,X,ah,ac)}function j(aN,aO){if(aN=="modifier"){return aj(j)}if(aN=="variable"){aA(aO);return aj()}if(aN=="spread"){return aj(j)}if(aN=="["){return aC(j,"]")}if(aN=="{"){return aC(aH,"}")}}function aH(aN,aO){if(aN=="variable"&&!G.stream.match(/^\s*:/,false)){aA(aO);return aj(ah)}if(aN=="variable"){G.marked="property"}if(aN=="spread"){return aj(j)}if(aN=="}"){return af()}return aj(u(":"),j,ah)}function ah(aN,aO){if(aO=="="){return aj(aI)}}function ac(aN){if(aN==","){return aj(e)}}function f(aN,aO){if(aN=="keyword b"&&aO=="else"){return aj(aJ("form","else"),aL,i)}}function x(aN){if(aN=="("){return aj(aJ(")"),H,u(")"),i)}}function H(aN){if(aN=="var"){return aj(e,u(";"),F)}if(aN==";"){return aj(F)}if(aN=="variable"){return aj(y)}return af(ar,u(";"),F)}function y(aN,aO){if(aO=="in"||aO=="of"){G.marked="keyword";return aj(ar)}return aj(ag,F)}function F(aN,aO){if(aN==";"){return aj(E)}if(aO=="in"||aO=="of"){G.marked="keyword";return aj(ar)}return af(ar,u(";"),E)}function E(aN){if(aN!=")"){aj(ar)}}function Q(aN,aO){if(aO=="*"){G.marked="keyword";return aj(Q)}if(aN=="variable"){aA(aO);return aj(Q)}if(aN=="("){return aj(z,aJ(")"),ax(ai,")"),i,X,aL,A)}}function ai(aN){if(aN=="spread"){return aj(ai)}return af(j,X,az)}function aa(aN,aO){if(aN=="variable"){aA(aO);return aj(S)}}function S(aN,aO){if(aO=="extends"){return aj(ar,S)}if(aN=="{"){return aj(aJ("}"),r,i)}}function r(aN,aO){if(aN=="variable"||G.style=="keyword"){if(aO=="static"){G.marked="keyword";return aj(r)}G.marked="property";if(aO=="get"||aO=="set"){return aj(d,Q,r)}return aj(Q,r)}if(aO=="*"){G.marked="keyword";return aj(r)}if(aN==";"){return aj(r)}if(aN=="}"){return aj()}}function d(aN){if(aN!="variable"){return af()}G.marked="property";return aj()}function aK(aN,aO){if(aO=="*"){G.marked="keyword";return aj(al,u(";"))}if(aO=="default"){G.marked="keyword";return aj(ar,u(";"))}return af(aL)}function ak(aN){if(aN=="string"){return aj()}return af(au,al)}function au(aN,aO){if(aN=="{"){return aC(au,"}")}if(aN=="variable"){aA(aO)}if(aO=="*"){G.marked="keyword"}return aj(m)}function m(aN,aO){if(aO=="as"){G.marked="keyword";return aj(au)}}function al(aN,aO){if(aO=="from"){G.marked="keyword";return aj(ar)}}function p(aN){if(aN=="]"){return aj()}return af(aI,aq)}function aq(aN){if(aN=="for"){return af(aD,u("]"))}if(aN==","){return aj(ax(ao,"]"))}return af(ax(aI,"]"))}function aD(aN){if(aN=="for"){return aj(x,aD)}if(aN=="if"){return aj(ar,aD)}}function at(aO,aN){return aO.lastType=="operator"||aO.lastType==","||T.test(aN.charAt(0))||/[,.]/.test(aN.charAt(0))}return{startState:function(aO){var aN={tokenize:Y,lastType:"sof",cc:[],lexical:new N((aO||0)-n,0,"block",false),localVars:an.localVars,context:an.localVars&&{vars:an.localVars},indented:aO||0};if(an.globalVars&&typeof an.globalVars=="object"){aN.globalVars=an.globalVars}return aN},token:function(aP,aO){if(aP.sol()){if(!aO.lexical.hasOwnProperty("align")){aO.lexical.align=false}aO.indented=aP.indentation();aB(aP,aO)}if(aO.tokenize!=aE&&aP.eatSpace()){return null}var aN=aO.tokenize(aP,aO);if(W=="comment"){return aN}aO.lastType=W=="operator"&&(J=="++"||J=="--")?"incdec":W;return g(aO,aN,W,J,aP)},indent:function(aT,aN){if(aT.tokenize==aE){return a.Pass}if(aT.tokenize!=Y){return 0}var aS=aN&&aN.charAt(0),aQ=aT.lexical;if(!/^\s*else\b/.test(aN)){for(var aP=aT.cc.length-1;aP>=0;--aP){var aU=aT.cc[aP];if(aU==i){aQ=aQ.prev}else{if(aU!=f){break}}}}if(aQ.type=="stat"&&aS=="}"){aQ=aQ.prev}if(D&&aQ.type==")"&&aQ.prev.type=="stat"){aQ=aQ.prev}var aR=aQ.type,aO=aS==aR;if(aR=="vardef"){return aQ.indented+(aT.lastType=="operator"||aT.lastType==","?aQ.info+1:0)}else{if(aR=="form"&&aS=="{"){return aQ.indented}else{if(aR=="form"){return aQ.indented+n}else{if(aR=="stat"){return aQ.indented+(at(aT,aN)?D||n:0)}else{if(aQ.info=="switch"&&!aO&&an.doubleIndentSwitch!=false){return aQ.indented+(/^(?:case|default)\b/.test(aN)?n:2*n)}else{if(aQ.align){return aQ.column+(aO?0:1)}else{return aQ.indented+(aO?0:n)}}}}}}},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:C?null:"/*",blockCommentEnd:C?null:"*/",lineComment:C?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:C?"json":"javascript",jsonldMode:aF,jsonMode:C,expressionAllowed:b,skipExpression:function(aN){var aO=aN.cc[aN.cc.length-1];if(aO==ar||aO==aI){aN.cc.pop()}}}});a.registerHelper("wordChars","javascript",/[\w$]/);a.defineMIME("text/javascript","javascript");a.defineMIME("text/ecmascript","javascript");a.defineMIME("application/javascript","javascript");a.defineMIME("application/x-javascript","javascript");a.defineMIME("application/ecmascript","javascript");a.defineMIME("application/json",{name:"javascript",json:true});a.defineMIME("application/x-json",{name:"javascript",json:true});a.defineMIME("application/ld+json",{name:"javascript",jsonld:true});a.defineMIME("text/typescript",{name:"javascript",typescript:true});a.defineMIME("application/typescript",{name:"javascript",typescript:true})});