(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(o){function k(u){var v={};for(var t=0;t<u.length;t++){v[u[t]]=true}return v}var i=k(["var","let","class","deinit","enum","extension","func","import","init","protocol","static","struct","subscript","typealias","as","dynamicType","is","new","super","self","Self","Type","__COLUMN__","__FILE__","__FUNCTION__","__LINE__","break","case","continue","default","do","else","fallthrough","if","in","for","return","switch","where","while","associativity","didSet","get","infix","inout","left","mutating","none","nonmutating","operator","override","postfix","precedence","prefix","right","set","unowned","weak","willSet"]);var f=k(["var","let","class","enum","extension","func","import","protocol","struct","typealias","dynamicType","for"]);var d=k(["Infinity","NaN","undefined","null","true","false","on","off","yes","no","nil","null","this","super"]);var j=k(["String","bool","int","string","double","Double","Int","Float","float","public","private","extension"]);var n="+-/*%=|&<>#";var p=";,.(){}[]";var b=/^-?(?:(?:[\d_]+\.[_\d]*|\.[_\d]+|0o[0-7_\.]+|0b[01_\.]+)(?:e-?[\d_]+)?|0x[\d_a-f\.]+(?:p-?[\d_]+)?)/i;var c=/^[_A-Za-z$][_A-Za-z$0-9]*/;var g=/^[@\.][_A-Za-z$][_A-Za-z$0-9]*/;var r=/^\/(?!\s)(?:\/\/)?(?:\\.|[^\/])+\//;function s(y,w,u){if(y.sol()){w.indented=y.indentation()}if(y.eatSpace()){return null}var t=y.peek();if(t=="/"){if(y.match("//")){y.skipToEnd();return"comment"}if(y.match("/*")){w.tokenize.push(l);return l(y,w)}if(y.match(r)){return"string-2"}}if(n.indexOf(t)>-1){y.next();return"operator"}if(p.indexOf(t)>-1){y.next();y.match("..");return"punctuation"}if(t=='"'||t=="'"){y.next();var x=h(t);w.tokenize.push(x);return x(y,w)}if(y.match(b)){return"number"}if(y.match(g)){return"property"}if(y.match(c)){var v=y.current();if(i.hasOwnProperty(v)){if(f.hasOwnProperty(v)){w.prev="define"}return"keyword"}if(j.hasOwnProperty(v)){return"variable-2"}if(d.hasOwnProperty(v)){return"atom"}if(u=="define"){return"def"}return"variable"}y.next();return null}function a(){var t=0;return function(x,w,v){var u=s(x,w,v);if(u=="punctuation"){if(x.current()=="("){++t}else{if(x.current()==")"){if(t==0){x.backUp(1);w.tokenize.pop();return w.tokenize[w.tokenize.length-1](x,w)}else{--t}}}}return u}}function h(t){return function(x,v){var u,w=false;while(u=x.next()){if(w){if(u=="("){v.tokenize.push(a());return"string"}w=false}else{if(u==t){break}else{w=u=="\\"}}}v.tokenize.pop();return"string"}}function l(u,t){u.match(/^(?:[^*]|\*(?!\/))*/);if(u.match("*/")){t.tokenize.pop()}return"comment"}function m(t,v,u){this.prev=t;this.align=v;this.indented=u}function e(t,u){var v=u.match(/^\s*($|\/[\/\*])/,false)?null:u.column()+1;t.context=new m(t.context,v,t.indented)}function q(t){if(t.context){t.indented=t.context.indented;t.context=t.context.prev}}o.defineMode("swift",function(t){return{startState:function(){return{prev:null,context:null,indented:0,tokenize:[]}},token:function(z,w){var v=w.prev;w.prev=null;var y=w.tokenize[w.tokenize.length-1]||s;var u=y(z,w,v);if(!u||u=="comment"){w.prev=v}else{if(!w.prev){w.prev=u}}if(u=="punctuation"){var x=/[\(\[\{]|([\]\)\}])/.exec(z.current());if(x){(x[1]?q:e)(w,z)}}return u},indent:function(x,v){var u=x.context;if(!u){return 0}var w=/^[\]\}\)]/.test(v);if(u.align!=null){return u.align-(w?1:0)}return u.indented+(w?0:t.indentUnit)},electricInput:/^\s*[\)\}\]]$/,lineComment:"//",blockCommentStart:"/*",blockCommentEnd:"*/"}});o.defineMIME("text/x-swift","swift")});